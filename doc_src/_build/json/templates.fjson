{"body": "<div class=\"section\" id=\"templates\">\n<h1>Templates<a class=\"headerlink\" href=\"#templates\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>At the top of the page, you need to call a template tag to get the proper variation fit for the object</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{%</span> <span class=\"k\">get_text_variations</span> <span class=\"nv\">object</span> <span class=\"cp\">%}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<p>Default usage: get the best variation fit for the requested variation:</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{{</span> <span class=\"nv\">object.headline_variation</span> <span class=\"cp\">}}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<p>Testing the requested variation/dimension</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">text_variations.requested.language.code</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;es&#39;</span> <span class=\"cp\">%}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<p>Displaying information about the requested variation</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"x\">&lt;p&gt;You are viewing the</span>\n<span class=\"cp\">{{</span> <span class=\"nv\">text_variations.requested.audience.name</span> <span class=\"cp\">}}</span><span class=\"x\"></span>\n<span class=\"x\">version of the site in</span>\n<span class=\"cp\">{{</span> <span class=\"nv\">text_variation.requested.language.name</span> <span class=\"cp\">}}</span><span class=\"x\">.&lt;/p&gt;</span>\n</pre></div>\n</div>\n<p>testing each field</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">text_variations.headline.language.code</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;es&#39;</span> <span class=\"cp\">%}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<p>Testing if a field is not the requested variation</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">text_variations.headline</span> <span class=\"o\">==</span> <span class=\"nv\">text_variations.requested</span> <span class=\"cp\">%}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<p>Does a specific variation exist for a field?</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">object.text_variations.headline.en.ad</span> <span class=\"cp\">%}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<p>get specific variation of a field</p>\n<div class=\"highlight-django\"><div class=\"highlight\"><pre><span class=\"cp\">{%</span> <span class=\"k\">get_variation</span> <span class=\"nv\">object</span> <span class=\"nv\">headline</span> <span class=\"nv\">language</span><span class=\"o\">=</span><span class=\"nv\">es</span> <span class=\"cp\">%}</span><span class=\"x\"></span>\n</pre></div>\n</div>\n<div class=\"section\" id=\"context-processors\">\n<h2>Context Processors<a class=\"headerlink\" href=\"#context-processors\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"n\">text_variations</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s\">&#39;requested&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s\">&#39;dim1&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s\">&#39;code&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;c2&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;name&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;Code2&#39;</span><span class=\"p\">},},</span>\n    <span class=\"s\">&#39;field1&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s\">&#39;dim1&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s\">&#39;code&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;co&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;name&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;Code1&#39;</span><span class=\"p\">},},</span>\n    <span class=\"s\">&#39;field2&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s\">&#39;dim1&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s\">&#39;code&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;c2&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;name&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;Code2&#39;</span><span class=\"p\">},}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"canonical-urls\">\n<h2>Canonical URLs<a class=\"headerlink\" href=\"#canonical-urls\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>When the returned variation does not match the requested variation</p>\n<p>If there are multiple fields on a model with variations, each could have different set defined variations, you will have to pick one field to define the canonical variation, such as blog entry content.</p>\n</div>\n</div>\n", "display_toc": true, "title": "Templates", "sourcename": "templates.txt", "customsidebar": null, "current_page_name": "templates", "next": {"link": "../editing_one_dimension/", "title": "Editing One Dimension"}, "rellinks": [["genindex", "General Index", "I", "index"], ["editing_one_dimension", "Editing One Dimension", "N", "next"], ["variations_and_urls", "Variations and URLs", "P", "previous"]], "meta": {}, "parents": [], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Templates</a><ul>\n<li><a class=\"reference internal\" href=\"#context-processors\">Context Processors</a></li>\n<li><a class=\"reference internal\" href=\"#canonical-urls\">Canonical URLs</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../variations_and_urls/", "title": "Variations and URLs"}, "metatags": ""}